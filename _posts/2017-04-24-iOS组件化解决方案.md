---
layout: post
<<<<<<< HEAD
title:  "iOS组件化方案"
date:   2017-04-24 12:03:33 +0000
categories: diary
location: Chengdu, China
description: 组件化方案，试着来实践一下。.
---
---
组件化方案，试着来实践一下。

#iOS组件化方案（以《看度》为例）
---
###1、组件化方案调研
随着产品越来越趋于成熟，模块化趋势越发明显，当前项目架构已经出现一些耦合现象，各模块间也出现了不通程度间的依赖现象。
另一方面，随着产品的功能越来越多，作为测试来说，测试难度越来越大。具体的表现来说，增删改一个小功能，或者一次小版本升级，都需要对整个产品进行通测，费时费力，而且测试效果也不甚理想。一个合理的测试方案是：仅针对改动组件的测试。当然，作为测试方来说，必要的自动化测试代码是必需的，但是作为研发本身来说，组件化也是能够提高测试效率的一种不错的方式。
此时，对整个产品就有必要进行组件化的改造，组件化即模块化，拆分出基础模块、业务模块等。

	就看度而言，组件化步骤如下：
    1、将原来 层级-业务 的目录结构调整为 业务-层级 目录结构；
    优点：同一组件的代码在目录结构上更靠近，提高开发效率；提取出一个组件更加简单
    2、深度精准分离组件，对每一个组件进行调整，使得其功能的实现不依赖于其他组件；
    3、优化调整JumpService，定位其为一个根据后台跳转类型返回指定响应组件的中间件：
    	远程组件间调用：是本地组件间调用的子集，解析服务器返回调用类型或者openURL调用类型，解析之后应用本地组件见调用方式
    4、建立本地组件间调用方法：
    	完全解耦各组件，各组件间不存在任何依赖关系
    5、如果有可能，通过CocoaPods、git来管理各模块，放弃SVN代码管理方式

###2、组件化方案
选择 **Target-Actions** 作为解决方案
[iOS应用架构谈 组件化方案](https://casatwy.com/iOS-Modulization.html)
[在现有工程中实施基于CTMediator的组件化方案](https://casatwy.com/modulization_in_action.html)